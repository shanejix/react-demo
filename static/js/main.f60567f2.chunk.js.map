{"version":3,"sources":["components/Footer.jsx","hooks/useOnEnter.js","utils.js","reducers/useTodos.js","containers/TodoItem.jsx","hooks/useDoubleClick.js","containers/TodoList.jsx","hooks/useInput.js","App.js","index.js"],"names":["className","href","useOnEnter","callback","inputs","useCallback","event","key","preventDefault","guid","s4","Math","random","toString","substring","newTodo","label","done","id","trim","reducer","deleteTodo","state","filter","i","addTodo","setDone","map","setLabel","toggleDone","globalReducer","JSON","parse","localStorage","getItem","todos","setItem","stringify","TodoItem","todo","useTodos","useState","editing","setEditing","onDelete","onDone","onChange","target","value","handleViewClick","onClick","onDoubleClick","timeout","clicks","rest","push","Date","getTime","clearTimeout","setTimeout","length","useDoubleClick","finishedCallback","onEnter","ref","useRef","useOnClickOutside","type","checked","autoFocus","onKeyPress","router","useRouter","left","useMemo","reduce","p","c","visibleTodos","match","params","anyDone","some","allSelected","every","onToggleAll","forEach","onClearCompleted","defaultValue","setValue","useInput","newValue","onNewValueChange","setNewValue","onAddTodo","Fragment","placeholder","htmlFor","exact","to","activeClassName","App","path","component","TodoList","Footer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f60567f2.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default () => (\r\n  <footer className=\"info\">\r\n    <p>Double-click to edit a todo</p>\r\n    <p>\r\n      Created by <a href=\"http://github.com/shanejixx\">shane</a>\r\n    </p>\r\n    <p>\r\n      Part of <a href=\"http://todomvc.com\">TodoMVC</a>\r\n    </p>\r\n  </footer>\r\n)","import { useCallback } from \"react\";\r\n\r\nexport default function useOnEnter(callback, inputs) {\r\n  return useCallback(\r\n    event => {\r\n      if (event.key === \"Enter\") {\r\n        event.preventDefault();\r\n        callback(event);\r\n      }\r\n    },\r\n    inputs\r\n  );\r\n}\r\n","export function guid() {\r\n  var s4 = () => {\r\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n  };\r\n\r\n  return `${s4()}${s4()}-${s4()}-${s4()}-${s4()}-${s4()}${s4()}${s4()}`;\r\n}\r\n","import { globalReducer } from \"react-hook-utils\";\r\n\r\nimport { guid } from \"../utils\";\r\n\r\nexport const newTodo = label => ({\r\n  done: false,\r\n  id: guid(),\r\n  label: (label || \"\").trim()\r\n});\r\n\r\nexport const reducer = {\r\n  // Delete a todo by id\r\n  deleteTodo: (state, id) => state.filter(i => i.id !== id),\r\n\r\n  // Create a new item\r\n  addTodo: (state, label) => [newTodo(label), ...state],\r\n\r\n  // Set the done state of an item\r\n  setDone: (state, id, done) =>\r\n    state.map(i =>\r\n      i.id === id\r\n        ? {\r\n          ...i,\r\n          done\r\n        }\r\n        : i\r\n    ),\r\n\r\n  // Set the label of an item\r\n  setLabel: (state, id, label) =>\r\n    state.map(i =>\r\n      i.id === id\r\n        ? {\r\n          ...i,\r\n          label\r\n        }\r\n        : i\r\n    ),\r\n\r\n  // Toggle an item done\r\n  toggleDone: (state, id) =>\r\n    state.map(i =>\r\n      i.id === id\r\n        ? {\r\n          ...i,\r\n          done: !i.done\r\n        }\r\n        : i\r\n    )\r\n};\r\n\r\nexport default globalReducer(\r\n  // Load todos from local storage\r\n  JSON.parse(localStorage.getItem(\"todos\") || \"[]\"),\r\n  reducer,\r\n  // On state change, persist to local storage\r\n  todos => localStorage.setItem(\"todos\", JSON.stringify(todos))\r\n);\r\n","import React, { useCallback, useRef, useState } from \"react\";\r\nimport useOnClickOutside from \"use-onclickoutside\";\r\n\r\nimport useDoubleClick from \"../hooks/useDoubleClick\";\r\nimport useOnEnter from \"../hooks/useOnEnter\";\r\nimport useTodos from \"../reducers/useTodos\";\r\n\r\nexport default function TodoItem({ todo }) {\r\n  const [, { deleteTodo, setLabel, toggleDone }] = useTodos(() => null);\r\n\r\n  const [editing, setEditing] = useState(false);\r\n\r\n  const onDelete = useCallback(() => deleteTodo(todo.id), [todo.id]);\r\n  const onDone = useCallback(() => toggleDone(todo.id), [todo.id]);\r\n  const onChange = useCallback(\r\n    event => setLabel(todo.id, event.target.value),\r\n    [todo.id]\r\n  );\r\n\r\n  const handleViewClick = useDoubleClick(null, () => setEditing(true));\r\n  const finishedCallback = useCallback(\r\n    () => {\r\n      setEditing(false);\r\n      setLabel(todo.id, todo.label.trim());\r\n    },\r\n    [todo]\r\n  );\r\n\r\n  const onEnter = useOnEnter(finishedCallback, [todo]);\r\n  const ref = useRef();\r\n  useOnClickOutside(ref, finishedCallback);\r\n\r\n  return (\r\n    <li\r\n      onClick={handleViewClick}\r\n      className={`${editing ? \"editing\" : \"\"} ${todo.done ? \"completed\" : \"\"}`}\r\n    >\r\n      <div className=\"view\">\r\n        <input\r\n          type=\"checkbox\"\r\n          className=\"toggle\"\r\n          checked={todo.done}\r\n          onChange={onDone}\r\n          autoFocus={true}\r\n        />\r\n        <label>{todo.label}</label>\r\n        <button className=\"destroy\" onClick={onDelete} />\r\n      </div>\r\n      {editing && (\r\n        <input\r\n          ref={ref}\r\n          className=\"edit\"\r\n          value={todo.label}\r\n          onChange={onChange}\r\n          onKeyPress={onEnter}\r\n        />\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n","export default function useDoubleClick(onClick, onDoubleClick) {\r\n  let clicks = [];\r\n  let timeout;\r\n\r\n  return (event, ...rest) => {\r\n    clicks.push(new Date().getTime());\r\n\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(() => {\r\n      if (\r\n        clicks.length > 1 &&\r\n        (clicks[clicks.length - 1] - clicks[clicks.length - 2] < 250) &&\r\n        onDoubleClick\r\n      ) {\r\n        onDoubleClick(event, ...rest);\r\n      } else if (onClick) {\r\n        onClick(event, ...rest);\r\n      }\r\n      clicks = [];\r\n    }, 250);\r\n  };\r\n}\r\n","import React, { useCallback, useMemo } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport useRouter from \"use-react-router\";\r\n\r\nimport useInput from \"../hooks/useInput\";\r\nimport useOnEnter from \"../hooks/useOnEnter\";\r\nimport useTodos from \"../reducers/useTodos\";\r\nimport TodoItem from \"./TodoItem\";\r\n\r\nexport default () => {\r\n  const router = useRouter();\r\n\r\n  const [todos, { addTodo, deleteTodo, setDone }] = useTodos();\r\n\r\n  const left = useMemo(\r\n    () => todos.reduce((p, c) => (p + (c.done ? 0 : 1)), 0),\r\n    [todos]\r\n  );\r\n\r\n  const visibleTodos = useMemo(\r\n    () => (\r\n      router.match.params.filter ?\r\n        todos.filter(i =>\r\n          router.match.params.filter === \"active\" ? !i.done : i.done\r\n        )\r\n        : todos\r\n    ),\r\n    [todos, router.match.params.filter]\r\n  );\r\n\r\n  const anyDone = useMemo(() => todos.some(i => i.done), [todos]);\r\n\r\n  const allSelected = useMemo(\r\n    () => visibleTodos.every(i => i.done),\r\n    [visibleTodos]\r\n  );\r\n\r\n  const onToggleAll = useCallback(\r\n    () => {\r\n      visibleTodos.forEach(i => setDone(i.id, !allSelected));\r\n    },\r\n    [visibleTodos, allSelected]\r\n  );\r\n\r\n  const onClearCompleted = useCallback(\r\n    () => {\r\n      todos.forEach(i => {\r\n        if (i.done) {\r\n          deleteTodo(i.id);\r\n        }\r\n      });\r\n    },\r\n    [todos]\r\n  );\r\n\r\n  const [newValue, onNewValueChange, setNewValue] = useInput();\r\n\r\n  const onAddTodo = useOnEnter(\r\n    () => {\r\n      if (newValue) {\r\n        addTodo(newValue);\r\n        setNewValue(\"\");\r\n      }\r\n    },\r\n    [newValue]\r\n  );\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <header className=\"header\">\r\n        <h1>todos</h1>\r\n        <input\r\n          className=\"new-todo\"\r\n          placeholder=\"What needs to be done?\"\r\n          onKeyPress={onAddTodo}\r\n          value={newValue}\r\n          onChange={onNewValueChange}\r\n        />\r\n      </header>\r\n\r\n      <section className=\"main\">\r\n        <input\r\n          id=\"toggle-all\"\r\n          type=\"checkbox\"\r\n          className=\"toggle-all\"\r\n          checked={allSelected}\r\n          onChange={onToggleAll}\r\n        />\r\n        <label htmlFor=\"toggle-all\" />\r\n        <ul className=\"todo-list\">\r\n          {visibleTodos.map(todo => (\r\n            <TodoItem key={todo.id} todo={todo} />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n\r\n      <footer className=\"footer\">\r\n        <span className=\"todo-count\">\r\n          <strong>{left}</strong> items left\r\n        </span>\r\n        <ul className=\"filters\">\r\n          <li>\r\n            <NavLink exact={true} to=\"/\" activeClassName=\"selected\">\r\n              All\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink to=\"/active\" activeClassName=\"selected\">\r\n              Active\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink to=\"/completed\" activeClassName=\"selected\">\r\n              Completed\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n        {anyDone && (\r\n          <button className=\"clear-completed\" onClick={onClearCompleted}>\r\n            Clear completed\r\n          </button>\r\n        )}\r\n      </footer>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { useCallback, useState } from \"react\";\r\n\r\nexport default function useInput(defaultValue) {\r\n  const [value, setValue] = useState(defaultValue || \"\");\r\n\r\n  const onChange = useCallback(\r\n    event => {\r\n      setValue(event.target.value);\r\n    }\r\n  );\r\n\r\n  return [value, onChange, setValue];\r\n}\r\n","import React from 'react';\nimport { HashRouter, Route } from \"react-router-dom\";\nimport \"todomvc-app-css/index.css\";\n\nimport Footer from \"./components/Footer\";\nimport TodoList from \"./containers/TodoList\";\n\nfunction App() {\n  return (\n    <HashRouter>\n      <React.Fragment>\n        <div className=\"todoapp\">\n          <Route path=\"/:filter?\" component={TodoList} />\n        </div>\n        <Footer />\n      </React.Fragment>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}